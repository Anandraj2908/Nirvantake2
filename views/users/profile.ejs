<% layout('layout/boilerplate')%>
<style>
    header{
        background-image: url('https://res.cloudinary.com/yelpcampbyanand/image/upload/v1635623409/daniel-leone-v7daTKlZzaw-unsplash_yl8vb6.jpg');
        border-radius: 20px;
        min-height: 10px;
        margin-bottom: 90px;
        font-style: italic;
    }
    #card,#card2{
        border-radius: 5px;
        border-left-color:hsl(171, 100%, 41%) ;
        border-left-width: 5px;
        background-image: url('https://res.cloudinary.com/yelpcampbyanand/image/upload/v1635623409/daniel-leone-v7daTKlZzaw-unsplash_yl8vb6.jpg');
    }
    #title{
        text-decoration-style:none;
        color: rgb(163, 155, 155);
    }
    #thumbnail
    {
        background-color: hsl(171, 100%, 41%);
        border-radius: 50%;
        height: 150px;
        width:150px;
        position:relative;
        top:120px;
        
    }
    #nopost{
        border-radius: 20px;
        min-height: 200px;
        background-image: url('https://res.cloudinary.com/yelpcampbyanand/image/upload/v1635623409/daniel-leone-v7daTKlZzaw-unsplash_yl8vb6.jpg');
        color: rgb(163, 155, 155);
    }
    #image2{
        max-height: 400px;
        max-width: 400px;
    }
    #card2{
        
        max-width: 403px;

    }
    #logout{
        background-color:rgb(163, 155, 155) ;
        color: white;
        

    }
    @media(min-width:1017px){
        #image{
             min-width: 300px;
             max-height: 400px;

        }
       
    }
    @media(max-width:380px){
        #thumbnail{
            height: 100px;
            width: 100px;
        }
    }
    @media(max-width:767.59px){
        #landscape{
            display: none;
        }
    }
    
</style>
<header class="container-fluid shadow-lg" >
    <div class="d-flex justify-content-end mr-5">
        <h1 class="text-light">Hi, <%=user.username %></h1>
    </div>
    
    <div class="d-flex justify-content-center m-1">
        <img class="shadow-lg" id="thumbnail" src="<%= user.thumbnail %> " alt="">
    </div>
    <div class="d-flex justify-content-end">
        <a class="btn my-2 shadow-lg" id="logout" href="/logout"><b>Log Out</b></a>
    </div>
 

</header>
<div class="row container-fluid mx-auto justify-content-center " >
    <%if(posts.length>=1){ %> 
        <% for(let i=posts.length-1;i>=0;i--){ %> 
        <% if( i%5==0 ){%> 
            <div class="col-6" id="landscape">
                <div class="card p-0 mb-4 mx-4 mt-6 shadow-lg container-fluid " id="card">
                    <span class="text-light mx-2"><%= posts[i].date.toDateString() %> </span>
                    <a class="text-decoration-none" href="/main/<%= posts[i]._id %> ">
                        
                        <% if(posts[i].image.length){ %> 
                        <img class="card-img-top d-flex justify-content-center" id="image" src="<%= posts[i].image[0].url %>"  alt="">
                        <% } %> 
                        <h4 class="pt-1 m-2 d-flex card-title" id="title"><%= posts[i].title %> </h4>   
                    </a>
                </div>
            </div>
       
        <% }else if( i%4==0){%> 
            <div class="col-4" id="landscape">
                <div class="card p-0 mb-4 mx-4 mt-6 shadow-lg container-fluid" id="card">
                    <span class="text-light mx-2"><%= posts[i].date.toDateString() %> </span>
                    <a class="text-decoration-none" href="/main/<%= posts[i]._id %> ">
                        
                        <% if(posts[i].image.length){ %> 
                        <img class="card-img-top d-flex justify-content-center" id="image" src="<%= posts[i].image[0].url %>"  alt="">
                        <% } %> 
                        <h4 class="pt-1 m-2 d-flex card-title" id="title"><%= posts[i].title %> </h4>   
                    </a>
                </div>
            </div>
      
        <% }else if( i%3==0 ){%> 
            <div class="col-5" id="landscape">
                <div class="card p-0 mb-4 mx-4 mt-6 shadow-lg container-fluid" id="card">
                    <span class="text-light mx-2"><%= posts[i].date.toDateString() %> </span>
                    <a class="text-decoration-none" href="/main/<%= posts[i]._id %> ">
                        
                        <% if(posts[i].image.length){ %> 
                        <img class="card-img-top d-flex justify-content-center" id="image" src="<%= posts[i].image[0].url %>"  alt="">
                        <% } %> 
                        <h4 class="pt-1 m-2 d-flex card-title" id="title"><%= posts[i].title %> </h4>   
                    </a>
                </div>
            </div>
     
        <%} else if(  i%2==0 ){%> 
            <div class="col-6" id="landscape">
                <div class="card p-0 mb-4 mx-4 mt-6 shadow-lg container-fluid" id="card">
                    <span class="text-light mx-2"><%= posts[i].date.toDateString() %> </span>
                    <a class="text-decoration-none" href="/main/<%= posts[i]._id %> ">
                        
                        <% if(posts[i].image.length){ %> 
                        <img class="card-img-top d-flex justify-content-center" id="image" src="<%= posts[i].image[0].url %>"  alt="">
                        <% } %> 
                        <h4 class="pt-1 m-2 d-flex card-title" id="title"><%= posts[i].title %> </h4>   
                    </a>
                </div>
            </div>
        <% }else{%>
            <div class="col-5" id="landscape">
                <div class="card p-0 mb-4 mx-4 mt-6 shadow-lg container-fluid" id="card">
                    <span class="text-light mx-2"><%= posts[i].date.toDateString() %> </span>
                    <a class="text-decoration-none" href="/main/<%= posts[i]._id %> ">
                        
                        <% if(posts[i].image.length){ %> 
                        <img class="card-img-top d-flex justify-content-center" id="image" src="<%= posts[i].image[0].url %>"  alt="">
                        <% } %> 
                        <h4 class="pt-1 m-2 d-flex card-title" id="title"><%= posts[i].title %> </h4>   
                    </a>
                </div>
            </div>
        <% } %>
        <div class="d-flex justify-content-center d-md-none" id="portrait" >
            <div class="card p-0 mb-4 mx-4 mt-6 shadow-lg container-fluid" id="card2">
                <span class="text-light mx-2"><%= posts[i].date.toDateString() %> </span>
                <a class="text-decoration-none" href="/main/<%= posts[i]._id %> ">
                    
                    <% if(posts[i].image.length){ %> 
                    <img class="card-img-top d-flex justify-content-center" id="image2" src="<%= posts[i].image[0].url %>"  alt="">
                    <% } %> 
                    <h4 class="pt-1 m-2 d-flex card-title" id="title"><%= posts[i].title %> </h4>   
                </a>
            </div>
        </div> 
        
    <% } %>
    <%} else{ %> 
        <div class="d-flex justify-content-center align-items-center my-4" id="nopost">
            <h1 class="">No Posts to Show</h1>
        </div> 
    <% } %>  
</div>
